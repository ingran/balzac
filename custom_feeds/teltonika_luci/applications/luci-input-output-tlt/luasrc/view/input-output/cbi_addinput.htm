<script type="text/javascript">
	function triger(){
		if(document.getElementById('_newinput.type').value == "digital1"){
			document.getElementById('_newinput.triger').disabled = false;
			document.getElementById('_newinput.triger').style.display="";
			document.getElementById('_newinput.triger2').disabled = true;
			document.getElementById('_newinput.triger2').style.display="none";
			document.getElementById('_newinput.triger3').disabled = true;
			document.getElementById('_newinput.triger3').style.display="none";
		}else if(document.getElementById('_newinput.type').value == "digital2"){
			document.getElementById('_newinput.triger').disabled = true;
			document.getElementById('_newinput.triger').style.display="none";
			document.getElementById('_newinput.triger2').disabled = false;
			document.getElementById('_newinput.triger2').style.display="";
			document.getElementById('_newinput.triger3').disabled = true;
			document.getElementById('_newinput.triger3').style.display="none";
		}else if(document.getElementById('_newinput.type').value == "analog"){
			document.getElementById('_newinput.triger').disabled = true;
			document.getElementById('_newinput.triger').style.display="none";
			document.getElementById('_newinput.triger2').disabled = true;
			document.getElementById('_newinput.triger2').style.display="none";
			document.getElementById('_newinput.triger3').disabled = false;
			document.getElementById('_newinput.triger3').style.display="";
		}
	}
</script>
<div class="cbi-section-create cbi-tblsection-create">
	<legend><%=translate("Input Configuration")%></legend>
	<br />
	<table class="cbi-section-table" style="width:100%;">

		<tr class="cbi-section-table-descr">
			<th class="cbi-section-table-cell" onmouseover="ShowHint(this, '<%=translate('Select input type of input rule')%>')" onmouseout="HideHint(this)"><%=translate("Input type")%></th>
			<th class="cbi-section-table-cell" onmouseover="ShowHint(this, '<%=translate('Select trigger of input rule')%>')" onmouseout="HideHint(this)"><%=translate("Trigger")%></th>
			<th class="cbi-section-table-cell" onmouseover="ShowHint(this, '<%=translate('Select action of input rule')%>')" onmouseout="HideHint(this)"><%=translate("Action")%></th>
			<th class="cbi-section-table-cell"></th>
		</tr>
		<tr class="cbi-section-table-row">
			<td class="cbi-section-table-cell" style="width:110px">
				<select class="cbi-input-select" id="_newinput.type" name="_newinput.type" onchange="triger()" style="float:left;">
					<option value="digital1"><%=translate("Digital")%></option>
					<option value="digital2"><%=translate("Digital isolated")%></option>
					<option value="analog"><%=translate("Analog")%></option>
				</select>
			</td>
			<td class="cbi-section-table-cell" style="width:110px">
				<select class="cbi-input-select" id="_newinput.triger" name="_newinput.triger" style="float:left;">
					<option value="no" id="no"><%=translate("Input open")%></option>
					<option value="nc" id="nc"><%=translate("Input shorted")%></option>
					<option value="both" id="both"><%=translate("Both")%></option>
				</select>
				<select class="cbi-input-select" id="_newinput.triger2" name="_newinput.triger2" style="float:left;display:none;" disabled>
					<option value="no" id="no1"> <%=translate("Low logic level")%></option>
					<option value="nc" id="nc1"> <%=translate("High logic level")%></option>
					<option value="both" id="both1"> <%=translate("Both")%></option>
				</select>
				<select class="cbi-input-select" id="_newinput.triger3" name="_newinput.triger3" style="float:left;display:none;" disabled>
					<option value="in" id="in"> <%=translate("Inside range")%></option>
					<option value="out" id="out"> <%=translate("Outside range")%></option>
				</select>
			</td>
			<td class="cbi-section-table-cell" style="width:110px">
				<select class="cbi-input-select" id="_newinput.action" name="_newinput.action" style="float:left;">
					<% if luci.tools.status.show_mobile() then %>
						<option value="sendSMS"><%=translate("Send SMS")%></option>
						<option value="changeSimCard"><%=translate("Change SIM card")%></option>
					<% end %>
					<option value="sendEmail"><%=translate("Send email")%></option>
					<option value="changeProfile"><%=translate("Change profile")%></option>
					<option value="wifion"><%=translate("Turn on WiFi")%></option>
					<option value="wifioff"><%=translate("Turn off WiFi")%></option>
					<option value="reboot"><%=translate("Reboot")%></option>
					<option value="output"><%=translate("Output")%></option>
				</select>
			</td>
			<td class="cbi-section-table-cell">
				<input type="submit" class="cbi-button cbi-button-add" name="cbi.cts.<%=self.config%>.<%=self.sectiontype%>.<%=section%>" value="<%:Add%>" />
			</td>
		</tr>
	</table>
</div>
